asyncapi: 2.4.0
info:
  title: Test Payload
  version: 1.0.0
  description: Test payload schema
servers:
  http:
    url: http://localhost:8080
    protocol: http
channels:
  test:
    subscribe:
      message:
        $ref: '#/components/messages/testReply'
        bindings:
          http:
            type: request
            method: GET
            query:
              type: object
              properties:
                name:
                  type: string
              additionalProperties: false
            bindingVersion: 0.1.0
    publish:
      message: 
        $ref: '#/components/messages/testMessage'
        bindings:
          http:
            type: request
            method: GET
            query:
              type: object
              properties:
                name:
                  type: string
              additionalProperties: false
            bindingVersion: 0.1.0
components:
  messages:
    testMessage:
      payload:
        type: object
        properties:
          query:
            type: string
    testReply:
      payload:
        type: string