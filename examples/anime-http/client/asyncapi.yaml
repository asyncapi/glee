asyncapi: 2.4.0
info:
  title: asyncapiImdb client
  version: 1.0.0
  description: This app creates a client that subscribes to the server for getting top 10 trending anime.
servers:
  http:
    url: http://localhost:8080
    protocol: http
x-remoteServer:
  - http
channels:
  /trendingAnime:
    subscribe:
      message:
        $ref: '#/components/messages/trendingAnime'
        bindings:
          http:
            type: request
            method: GET
            query:
              type: object
              properties:
                name:
                  type: string
              additionalProperties: false
            bindingVersion: 0.1.0
    publish:
      message:
        $ref: '#/components/messages/trendingAnime'
        bindings:
          http:
            type: request
            method: GET
            query:
              type: object
              properties:
                name:
                  type: string
              additionalProperties: false
            bindingVersion: 0.1.0
components:
  messages:
    trendingAnime:
      payload:
        type: object
        properties:
          name:
            type: string
          rating:
            type: number
          genre:
            type: string
          studio:
            type: string
