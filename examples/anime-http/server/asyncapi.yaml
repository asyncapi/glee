asyncapi: 2.4.0
info:
  title: asyncapimart client
  version: 1.0.0
  description: This app is a dummy server that would stream the trending anime.
servers:
  http:
    url: http://localhost:8080
    protocol: http
channels:
  trendingAnime:
    bindings:
      http:
        type: request
        method: POST
        bindingVersion: 0.1.0
    publish:
      operationId: trendingAnimeController
      message:
        $ref: "#/components/messages/trendingAnime"
    subscribe:
      message:
        payload:
          type: object
  upcomingAnime:
    bindings:
      http:
        type: request
        method: POST
        query:
          type: object
          required:
            - name
            - genre
            - studio
          properties:
            name:
              type: string
              description: name of the anime.
            genre:
              type: string
              description: The genre of anime.
            studio:
              type: string
              description: The studio of anime.
        bindingVersion: 0.1.0
    publish:
      operationId: upcomingAnimeController
      message:
        $ref: "#/components/messages/upcomingAnime"
    subscribe:
      message:
        payload:
          type: object
components:
  messages:
    trendingAnime:
      summary: Data required to populate trending anime
      payload:
        type: object
        required:
          - query
          - body
        properties:
          query:
            type: object
            required:
              - name
              - rating
              - genre
              - studio
            properties:
              name:
                type: string
                description: name of the anime.
              rating:
                type: string
                description: rating of the show \.
              genre:
                type: string
                description: The genre of anime.
              studio:
                type: string
                description: The studio of anime.
          body:
            type: object
            required:
              - name
              - rating
              - genre
              - studio
            properties:
              name:
                type: string
                description: name of the anime.
              rating:
                type: number
                description: rating of the show \.
              genre:
                type: string
                description: The genre of anime.
              studio:
                type: string
                description: The studio of anime.
    upcomingAnime:
      summary: Data required to populate trending anime
      payload:
        type: object
        properties:
          name:
            type: string
          genre:
            type: string
          studio:
            type: string
